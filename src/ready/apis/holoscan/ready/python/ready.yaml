%YAML 1.2
---
replayer:  # VideoStreamReplayer
  #basename: "video_30_duplicated_frames_of_val-000180-640wX400h_channels1" #'preprocessor' - Failed to resize image.
  #basename: "video_30_duplicated_frames_of_val-000180-640wX400h_rgb_channels1" #'preprocessor' - Failed to resize image.
  basename: "video_30_duplicated_frames_of_val-000180-640wX400h_channels3"
  #basename: "video_30_duplicated_frames_of_val-000180-640wX400h_rgb_channels3"
  #basename: "video_frames"
  #basename: "video_30_duplicated_frames_of_four-frames-in-one_channels3"
  #basename: "video_30_duplicated_frames_of_fractal-frames-in-one_channels3"
  #basename: "cut_video_640x400"
  #basename: "cut_video_640x400_grayscale"

  frame_rate: 0 # as specified in timestamps
  repeat: true # default: false
  realtime: true # default: true
  count: 0 # default: 0 (no frame count restriction)

preprocessor:  # FormatConverter
  #in_tensor_name: #- **in_tensor_name**: The name of the input tensor. Optional (default: `""`).
  out_tensor_name: "out_preprocessor"
  scale_min: 0.0
  scale_max: 1.0
  #alpha_value: #Unsigned integer in range [0, 255], indicating the alpha channel value to use
                #when converting from RGB to RGBA. Optional (default: `255`).
  #in_dtype: "rgba8888" for four channles
  #in_dtype: "float32" ?
  resize_width: 640 #320
  resize_height: 400 #200
  out_dtype: "float32"
  #out_channel_order: [0, 1, 2, 3]
  #out_channel_order: [0, 1, 2]
  #out_channel_order: [0, 2, 1]
  #out_channel_order: [2, 1, 0]
  #out_channel_order: [2, 0, 1]
  #out_channel_order: [1, 0, 2]
  #out_channel_order: [1, 2, 0]


pre_info_op:  #Pre Info Operator
format_input:  #FormatInferenceInputOp
post_inference_op:  #Info Operator


inference:  # Inference
  backend: "trt"
  pre_processor_map:
    "ready_model": ["out_preprocessor"]
  inference_map:
    "ready_model": ["unet_out"]
  enable_fp16: False #Use 16-bit floating point computations. Optional (default: `false`).
  parallel_inference: true # optional param, default to true
  infer_on_cpu: false # optional param, default to false
  input_on_cuda: true # optional param, default to true
  output_on_cuda: true # optional param, default to true
  transmit_on_cuda: true # optional param, default to true
  is_engine_path: false # optional param, default to false


segpostprocessor:  # SegmentationPostprocessor
  in_tensor_name: unet_out
  network_output_type: softmax
  #network_output_type: sigmoid
  #network_output_type: None
  data_format: nchw
  #data_format: nhwc


viz:  # Holoviz
  window_title: "READY demo"
  width: 640
  height: 400
  tensors:
    - name: ""
      type: color
      opacity: 1.0
      priority: 0
  color_lut: [
    [0.65, 0.81, 0.89, 0.01], #background #RGB for light blue & alpha=0.1
    [0.3, 0.3, 0.9, 0.5], #sclera  #RGB for blue & alpha=0.5
    [0.1, 0.8, 0.2, 0.5], #Iris    #RGB for green & alpha=0.5
    [0.9, 0.9, 0.3, 0.8], #Pupil   #RGB for yellow & alpha=0.8 
    #https://rgbcolorpicker.com/0-1
    ]
